<html>
<script src="./axios.min.js"></script>
<style>
</style>
<script>
	

	let getUrl = "https://www.easy-mock.com/mock/59a8d3424006183e48ef9507/myproj/test";
	// axios.get(getUrl).then( res => {
	// 	//console.log(res.headers);
	// } );

	let postUrl = "https://www.easy-mock.com/mock/59a8d3424006183e48ef9507/myproj/posttest";
	// axios.post(postUrl).then( res => {
	// 	//console.log(res.data);
	// });


	//测试并发
	// let ax1 = axios.get(getUrl);
	// let ax2 = axios.post(postUrl);
	// axios.all([ax1, ax2]).then( res => {
	// 	//console.log(res);
	// });
	// axios.all([ax1, ax2]).then( axios.spread((res1, res2) => {
	// 	//console.log(res1);
	// 	//console.log(res2);
	// }));


	//get 参数
	// axios.get(getUrl, {
	// 		headers: {'X-Custom-Header': 'foobar'},
	// 		params: {
	// 			"paramone": "value1",
	// 			"paramtwo": "value2"
	// 		}
	// 	}).then( res => {
	// 		console.log(res);
	// 	});


	//post 参数
	// axios.post(postUrl,
	// 	{
	// 		"username": "silver.sun",
	// 		"passwd": "aiaiai"
	// 	},
	// 	{
	// 		headers: {
	// 		    'X-Custom-Header': 'test'
	// 	    }
	// 	}

	
	// 	).then( res => {
	// 	console.log(res);
	// });


	// defaults 配置
	axios.defaults.headers.common['common-get&post'] = 'can-be-seen-in-get-and-post';
	// axios.defaults.headers.post['only-post'] = 'can-be-seen';
	// axios.defaults.headers.get['only-get'] = 'can-be-seen';
	// axios.get(getUrl).then(res => {
	// 	console.log(res);
	// });

	// // axios.post(postUrl).then( res => {
	// // 	console.log(res.data);
	// // });



	// 拦截器
    axios.interceptors.request.use( config => {
    	console.log(config);
    	return config;
    }, err => {
    	console.log(err);
    	return Promise.reject(err);
    });

    axios.get(getUrl).then( res => {
    	console.log(res.data);
    });


	// axios取消请求
	// var CancelToken = axios.CancelToken;
	// var source = CancelToken.source();
 //    axios.interceptors.request.use( config => {
 //    	console.log(config);
 //    	source.cancel('end request');
 //    	return config;
 //    }, err => {
 //    	console.log(err);
 //    	return Promise.reject(err);
 //    });

 //    axios.get(getUrl, {
 //    	cancelToken: source.token
 //    }).then( res => {
 //    	console.log(res.data);
 //    });











	
</script>

</html>